<button (click)="isVisible ? closeNav() : openNav()" class="menu-button">
  <svg
    class="w-6 h-6"
    aria-hidden="true"
    fill="currentColor"
    viewBox="0 0 20 20"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      clip-rule="evenodd"
      fill-rule="evenodd"
      d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"
    ></path>
  </svg>
</button>

<div class="d-md-flex">
  <app-navbar
    [isVisible]="isVisible"
    (visibilityChange)="updateVisibility($event)"
  ></app-navbar>

  <div class="container">
    <h1 class="mt-4">Learn, Cook, Eat Your Food</h1>
    <div class="category-buttons d-none d-md-block mt-3 mb-5">
      <button
        (click)="updateMealsByCategory('All')"
        [class.active]="selectedCategory === 'All'"
      >
        All
      </button>
      @for (category of categories; track $index) {
      <button
        (click)="updateMealsByCategory(category.strCategory)"
        [class.active]="selectedCategory === category.strCategory"
      >
        {{ category.strCategory }}
      </button>
      }
    </div>
    <div class="d-md-none">
      <select name="meals" (change)="updateOption($event)">
        <option value="All">All</option>
        @for (category of categories; track $index) {
        <option value="{{ category.strCategory }}">
          {{ category.strCategory }}
        </option>
        }
      </select>
    </div>
    <div class="row gy-5">
      @for (meal of meals; track $index) {
      <div class="col-md-3">
        <div class="card h-100">
          <div
            class="img-container rounded-circle overflow-hidden w-50 mx-auto"
          >
            <img class="w-100" [src]="meal.strMealThumb" [alt]="meal.strMeal" />
          </div>
          <div class="card-body d-flex flex-column">
            <h4 class="card-title text-center">{{ meal.strMeal }}</h4>
            <button class="btn rounded-pill w-50 mx-auto">View Recipe</button>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
</div>
